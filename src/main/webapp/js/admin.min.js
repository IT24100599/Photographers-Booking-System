// Sidebar Toggle
$(document).on("click", "#sidebarToggle, #sidebarToggleTop", function(e) {
    //$("body").toggleClass("sidebar-toggled"); // Toggle the "sidebar-toggled" class on body
    $(".sidebar").toggleClass("toggled"); // Toggle the "toggled" class on sidebar

    // If the sidebar is hidden, hide all collapsible items inside it
    if ($(".sidebar").hasClass("toggled")) {
        $(".sidebar .collapse").collapse("hide");
    }
});

// Prevent auto-hide behavior for small screens
$(window).resize(function() {
    $(".sidebar .collapse").collapse("hide");
});

// Prevent Sidebar Scrolling on Larger Screens
$("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel", function(e) {
    var o;
    if ($(window).width() > 768) {
        o = e.originalEvent.wheelDelta || -e.originalEvent.detail;
        this.scrollTop += 30 * (o < 0 ? 1 : -1);
        e.preventDefault();
    }
});

// Show/Hide "Scroll to Top" Button
$(document).on("scroll", function() {
    if ($(this).scrollTop() > 100) {
        $(".scroll-to-top").fadeIn();
    } else {
        $(".scroll-to-top").fadeOut();
    }
});

// Smooth Scrolling to Top
$(document).on("click", "a.scroll-to-top", function(e) {
    var o = $(this);
    $("html, body").stop().animate({
        scrollTop: $(o.attr("href")).offset().top
    }, 1000, "easeInOutExpo");
    e.preventDefault();
});
